<style>
  :root{
    --bg:#f8fafc; --card:#ffffff; --text:#111827; --muted:#6b7280;
    --accent:#0ea5e9; --accent-hover:#0284c7; --border:#e5e7eb;
    --success:#065f46; --success-bg:#ecfdf5; --success-border:#a7f3d0;
    --error:#7f1d1d; --error-bg:#fef2f2; --error-border:#fecaca;
  }
  * { box-sizing: border-box; }
  html, body { height:100%; }
  body{
    margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    font-size: 16px; background:var(--bg); color:var(--text);
    display:grid; place-items:center; padding:24px;
  }
  .app{ background:var(--card); width:min(980px, 100%); padding:24px; border-radius:16px;
    box-shadow:0 10px 30px rgba(0,0,0,.08); border:1px solid var(--border); }
  .header{ display:flex; flex-direction:column; gap:4px; margin-bottom:8px; }
  .header h1{ font-size:1.75rem; line-height:1.2; margin:0; }
  .header p{ margin:0; color:var(--muted); }

  .row{ display:grid; gap:16px; }
  .actions{ display:grid; grid-template-columns: repeat(auto-fill, minmax(220px,1fr)); gap:16px; margin-top:16px; }

  .btn{
    appearance:none; border:1px solid var(--border); background:var(--card); color:inherit;
    padding:16px; border-radius:16px; font-weight:600; cursor:pointer;
    display:flex; align-items:center; justify-content:flex-start; gap:12px;
    transition: box-shadow .2s ease, transform .15s ease, border-color .15s ease;
    box-shadow: 0 1px 0 rgba(0,0,0,.02);
  }
  .btn:hover{ border-color:var(--accent); box-shadow:0 8px 20px rgba(14,165,233,.15); transform: translateY(-1px); }
  .btn:focus-visible{ outline:3px solid var(--accent); outline-offset:2px; }
  .btn.primary{ background:var(--accent); color:white; border-color:var(--accent); }
  .btn.primary:hover{ background:var(--accent-hover); border-color:var(--accent-hover); }
  .btn.secondary{ background:var(--card); }

  .btn .icon{ width:28px; height:28px; flex:0 0 28px; }
  .btn .label{ display:flex; flex-direction:column; align-items:flex-start; }
  .btn .title{ font-size:1rem; }
  .btn .subtitle{ font-size:.825rem; font-weight:500; color:var(--muted); }

  .footer{ margin-top:20px; display:flex; justify-content:space-between; align-items:center; }
  .footer small{ color:var(--muted); }

  .msg{ position:fixed; right:24px; bottom:24px; padding:12px 16px; border-radius:12px; border:1px solid var(--border); background:#ecfeff; color:#075985; box-shadow:0 8px 24px rgba(0,0,0,.18); }
  .msg.hidden{ display:none; }

  .spinner{ width:18px; height:18px; border-radius:50%; border:3px solid rgba(0,0,0,.08); border-top-color:var(--accent); animation:spin 1s linear infinite; }
  @keyframes spin{ to{ transform:rotate(360deg);} }

  /* Panels */
  .screen{ display:block; }
  .screen.hidden{ display:none; }
  .section{ border:1px solid var(--border); border-radius:16px; padding:16px; background:var(--card); box-shadow:0 4px 14px rgba(0,0,0,.06); }
  .section h2{ margin:0 0 12px 0; font-size:1.25rem; }

  /* Form */
  form{ display:grid; gap:16px; }
  .field{ display:grid; gap:6px; }
  .field label{ font-weight:600; }
  .hint{ color:var(--muted); font-size:.9rem; }
  input[type="text"], input[type="email"], input[type="tel"], input[type="number"], input[type="date"], select, textarea{
    width:100%; padding:10px 12px; border:1px solid var(--border); border-radius:12px; font:inherit; background:white;
  }
  .grid{ display:grid; gap:12px; }
  .grid.cols-2{ grid-template-columns: repeat(2, minmax(0,1fr)); }
  .grid.cols-3{ grid-template-columns: repeat(3, minmax(0,1fr)); }

  .controls{ display:flex; gap:12px; justify-content:flex-end; flex-wrap:wrap; }

  /* Pet cards */
  .pet-grid{ display:grid; gap:12px; }
  .pet-card{ border:1px dashed var(--border); border-radius:16px; padding:12px; }
  .pet-card h3{ margin:0 0 8px 0; font-size:1rem; display:flex; align-items:center; gap:8px; }
  .pet-card .toggle{ display:flex; align-items:center; gap:8px; }
  .pet-card.disabled{ opacity:.6; }

  /* Items grid rows */
  .item-row{ display:grid; grid-template-columns: 1fr 120px 1fr; gap:8px; align-items:center; }
  .item-row .name{ opacity:.85; }
  .item-row.other{ grid-template-columns: 1fr 120px 1fr; }
  .msg-inline{ margin-top:8px; }
  @media (max-width: 520px){
    .btn{ padding:14px; } .btn .icon{ width:24px; height:24px; }
    .grid.cols-2{ grid-template-columns: 1fr; }
    .grid.cols-3{ grid-template-columns: 1fr 1fr; }
    .item-row{ grid-template-columns: 1fr 100px 1fr; }
  }
</style>
