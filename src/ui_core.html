<script>
const APP = {
  nav: {
    to(view) {
      const base = (typeof window.BASE_EXEC_URL === 'string' && window.BASE_EXEC_URL) 
        ? window.BASE_EXEC_URL 
        : window.top.location.href.split('?')[0]; // fallback
      const url = base + '?view=' + encodeURIComponent(view);
      try {
        window.top.location.href = url;   // break out of editor preview if framed
      } catch (e) {
        window.location.href = url;
      }
    }
  },
  toast(msg){ alert(msg); }
};
</script>